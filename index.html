<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Almamater Listeners</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <h1>Almamater Listeners</h1>
  <h2 id="result">Loading...</h2>
  <button>
    <i class="fa-solid fa-arrows-rotate" style="font-size: 4rem;"></i>
  </button>

  <script>
    document.querySelector('button').addEventListener('click', getListeners);
    var result = document.getElementById("result");
    var client ="almamater"
    var listeners = "";

    getListeners();

    function getListeners() {
      result.innerText = "Loading...";
      setTimeout(() => {
        fetch("https://api.allorigins.win/raw?url=http://a1.vizitec.com:8000/ListenersuZ7PxezqVFZ8vLfCmG.xsl")
          .then(response => response.text())
          .then(data => {
            listeners = data.split(`${client}</Name><Count>`)[1]?.split('</Count>')[0];
            result.innerText = `Count: ${listeners}`;
          })
          .catch(error => {
            result.innerText = "Error loading data.";
            console.error("Error fetching data:", error);
          });
      }, 500);
    }
  </script>
</body>
<style>
  body {
    font-size: 2rem;
    background-color: black;
    color: rgb(57, 217, 153);
    width: 100%;
    height: 100vh;
    display: flex;
    place-items: center;
    flex-direction: column;
  }
  h1 {
    margin-top: 10rem;
  }
  button {
    padding: 0.25rem;
    background-color: rgb(57, 217, 153);
    border-radius: 1rem;
  }
</style>

</html>
